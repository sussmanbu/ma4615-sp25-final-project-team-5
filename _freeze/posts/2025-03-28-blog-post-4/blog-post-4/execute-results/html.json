{
  "hash": "8025b59814eff650d922683a3157f8e2",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Blog Post 4\"\nauthor: \"\"\ndate: \"2025-03-28\"\ndate-modified: \"2025-03-28\"\ndraft: FALSE\n---\n\n\n\nFrom “Line Charts: Trends Over Time (data.qmd)”, the increase is observed only in the Asian/Pacific Islander category, even though a general reduction in HIV diagnoses rates over time across all racial/ethnic groups. \n\n##Comparing \"Total Number of HIV Diagnoses\" by Sex for Asian/Pacific Islanders\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsuppressPackageStartupMessages(library(tidyverse))\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'lubridate' was built under R version 4.3.3\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(readr)\nlibrary(here)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nhere() starts at /Users/yunha1/Desktop/ma4615-sp25-final-project-team-5\n```\n\n\n:::\n\n```{.r .cell-code}\ndf <- read_rds(here::here(\"dataset\", \"hiv_clean.rds\"))\n\n\nggplot(df, aes(x = SEX, y = as.numeric(`TOTAL NUMBER OF HIV DIAGNOSES`), fill = SEX)) +\n  geom_bar(stat = \"identity\") +\n  labs(title = \"Total HIV Diagnoses for Asian/Pacific Islanders by Sex\",\n       x = \"Sex\",\n       y = \"Total Number of HIV Diagnoses\") +\n  theme_minimal() +\n  theme(legend.position = \"none\")\n```\n\n::: {.cell-output-display}\n![](blog-post-4_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n:::\n\n\n\nThe bar graph clearly indicates a significant gender disparity in HIV diagnoses among Asian/Pacific Islanders, with males accounting for a substantially higher number of cases compared to females. The number of diagnoses among males is several times higher than that among females, highlighting a pronounced vulnerability or increased risk exposure for males in this population.\n\n\n##Line Graph of HIV Diagnoses Rates per 100,000 Population Over Years by Sex\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(df, aes(x = YEAR, y = as.numeric(`HIV DIAGNOSES PER 100,000 POPULATION`), color = SEX)) +\n  geom_line(size = 1.2) +\n  geom_point(size = 3) +\n  labs(title = \"HIV Diagnoses Rates (per 100,000) for Asian/Pacific Islanders by Sex\",\n       x = \"Year\",\n       y = \"HIV Diagnoses per 100,000 Population\") +\n  theme_minimal() +\n  scale_x_continuous(breaks = unique(df$YEAR))\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](blog-post-4_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n\nThe rate of HIV diagnoses for males (blue dots) is consistently higher than for females (green dots) across all years. Noticeably high spikes occur, especially around 2010-2013 and again in 2017-2018.\n\nFor statistical modeling, we will need to do two types of modeling, depending on the variable(s) we want to analyze. For example, some of our variables, like \"Total Number of HIV Diagnoses,\" are count variables, making Poisson regression the best choice for modeling. For other variables, like \"HIV Diagnoses Per 100,000 Population,\" we can do linear regression, since these are continuous variables. Below is the preliminary statistical analysis exploring the relationship between \"Total Number of HIV Diagnoses\" and \"Race/Ethnicity,\" using \"White\" as the reference variable. As stated above, because \"Total Number of HIV Diagnoses\" is a count variable, it fits best with a Poisson model.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsuppressPackageStartupMessages(library(tidyverse))\nsuppressPackageStartupMessages(library(tidymodels))\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'dials' was built under R version 4.3.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'modeldata' was built under R version 4.3.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'recipes' was built under R version 4.3.3\n```\n\n\n:::\n\n```{.r .cell-code}\nhiv_clean <- readRDS(here::here(\"dataset\", \"hiv_clean.rds\")) |>\n  filter(!`RACE/ETHNICITY` %in% c(\"All\", \"Unknown\", \"Other/Unknown\"))\n\nsplit <- initial_split(hiv_clean, prop = 0.8)\ntraining <- training(split)\ntraining$`RACE/ETHNICITY` <- factor(training$`RACE/ETHNICITY`)\ntraining$`RACE/ETHNICITY` <- relevel(training$`RACE/ETHNICITY`, ref = \"White\")\n\nmod <- glm(`TOTAL NUMBER OF HIV DIAGNOSES` ~ `RACE/ETHNICITY`, family = poisson, training)\nsummary(mod)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nglm(formula = `TOTAL NUMBER OF HIV DIAGNOSES` ~ `RACE/ETHNICITY`, \n    family = poisson, data = training)\n\nCoefficients:\n                                       Estimate Std. Error z value Pr(>|z|)    \n(Intercept)                             2.40971    0.01073  224.53   <2e-16 ***\n`RACE/ETHNICITY`Asian/Pacific Islander -0.78530    0.02077  -37.81   <2e-16 ***\n`RACE/ETHNICITY`Black                   1.09308    0.01222   89.48   <2e-16 ***\n`RACE/ETHNICITY`Hispanic                0.87192    0.01261   69.17   <2e-16 ***\n`RACE/ETHNICITY`Multiracial            -4.14306    0.14626  -28.33   <2e-16 ***\n`RACE/ETHNICITY`Native American        -7.23402    0.70671  -10.24   <2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for poisson family taken to be 1)\n\n    Null deviance: 209104  on 3660  degrees of freedom\nResidual deviance: 168554  on 3655  degrees of freedom\nAIC: 179369\n\nNumber of Fisher Scoring iterations: 6\n```\n\n\n:::\n:::\n\n\nUsing the estimates, the rate ratio, or how much more likely one group is to have an HIV diagnosis compared to the reference group, which is white people in this case, can be calculated. Asian/Pacific Islanders have an approximate rate ratio of e^(-0.73989) ≈ 0.477. Asian/Pacific Islanders have 0.477 times as many, or approximately 52.3% fewer, HIV diagnoses as white people. For black people, the rate ratio is e^(1.03738) ≈ 2.82, meaning they have approximately 2.82 times as many, or 282% more diagnoses than white people. For Hispanic people, the rate ratio is approximately 2.48, meaning they have 2.48 times as many cases as white people. For multiracial people, the rate ratio is 0.017, meaning they have about 98.3% fewer cases than white people. Finally, for Native Americans, the rate ratio is 0.00073, meaning they have about 99.93% fewer cases than white people. Every z-value is > \n|10|, meaning indicating race has a very strong correlation with HIV diagnoses, which is confirmed by the p-values all being <2e-16, indicating statistical significance. \n\nA point of concern is with the deviance residuals and potential overdispersion. The median is negative, indicating the model tended to overestimate the number of HIV diagnoses; however, the max is 70.741, meaning the model grossly underestimated the number of cases at some point. Combining this with a minimum of -7.842 suggests some observations poorly fit the model, indicating potential overdispersion of the dataset. Checking for overdispersion can be done by dividing the residual deviance by the degrees of freedom, which in our case = 159079/3655 ≈ 43.52, confirming the suspicion of overdispersion. In future analysis, changing the model to better account for this overdispersion will be done, in order to achieve the best estimates possible. Likely, this will involve using a negative binomial distribution, which allows the variance to be greater than the mean, unlike the Poisson distribution, which assumes the mean and variance are equal.\n\n\n",
    "supporting": [
      "blog-post-4_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}